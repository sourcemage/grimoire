From b9ec4b8763f3106f0d1dbf3138ee5f2dd55b860d Mon Sep 17 00:00:00 2001
From: Simon Ser <contact@emersion.fr>
Date: Wed, 18 Oct 2023 14:55:26 +0200
Subject: [PATCH 01/15] Drop wl_drm

See https://gitlab.freedesktop.org/wlroots/wlroots/-/merge_requests/4397

Origin: Upstream
Upstream-Status: Backported [commit 7e69a7076fc8a4eb788e0229b1c99dd0b7b04bb7]
Signed-off-by: Ismael Luceno <ismael@sourcemage.org>
---
 sway/server.c | 2 --
 1 file changed, 2 deletions(-)

diff --git a/sway/server.c b/sway/server.c
index 9edc8bfc276f..eac9719df3ba 100644
--- a/sway/server.c
+++ b/sway/server.c
@@ -13,7 +13,6 @@
 #include <wlr/types/wlr_content_type_v1.h>
 #include <wlr/types/wlr_cursor_shape_v1.h>
 #include <wlr/types/wlr_data_control_v1.h>
-#include <wlr/types/wlr_drm.h>
 #include <wlr/types/wlr_export_dmabuf_v1.h>
 #include <wlr/types/wlr_fractional_scale_v1.h>
 #include <wlr/types/wlr_gamma_control_v1.h>
@@ -147,7 +146,6 @@ bool server_init(struct sway_server *server) {
 	wlr_renderer_init_wl_shm(server->renderer, server->wl_display);
 
 	if (wlr_renderer_get_dmabuf_texture_formats(server->renderer) != NULL) {
-		wlr_drm_create(server->wl_display, server->renderer);
 		server->linux_dmabuf_v1 = wlr_linux_dmabuf_v1_create_with_renderer(
 			server->wl_display, 4, server->renderer);
 	}
-- 
2.46.0

