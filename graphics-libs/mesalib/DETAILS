. "$GRIMOIRE/FUNCTIONS"
           SPELL=mesalib

if [[ -z $MESALIB_BRANCH ]]; then
  MESALIB_BRANCH="stable"
fi

case "$MESALIB_BRANCH" in 
  stable)
         VERSION=7.9.2
          SOURCE=MesaLib-${VERSION}.tar.bz2
      SOURCE_GPG="gurus.gpg:$SOURCE.sig:WORKS_FOR_ME"
  ;;
  feature)
         VERSION=7.10.3
          SOURCE=MesaLib-${VERSION}.tar.bz2
      SOURCE_GPG="gurus.gpg:$SOURCE.sig:WORKS_FOR_ME"
  ;;
  development)
         VERSION=8.0.5
          SOURCE=MesaLib-${VERSION}.tar.bz2
     SOURCE_HASH=sha512:d805af05231789bd4fdcba2c16c3697c682ae0f8e6d649dc2ced18ec10fdd3155ea520bc3fcf70c9783ca315d8e7004c7967983338973b0a04be11efc085717d
  ;;
  scm)
         VERSION=$(get_scm_version)
          SOURCE=$SPELL-git.tar.bz2
  FORCE_DOWNLOAD="on"
   SOURCE_URL[0]=git://anongit.freedesktop.org/git/mesa/mesa:mesalib-git
SOURCE_DIRECTORY="${BUILD_DIRECTORY}/${SPELL}-git"
   SOURCE_IGNORE=volatile
  ;;
esac

if [[ "$MESALIB_BRANCH" != "scm" ]]; then
   SOURCE_URL[0]=ftp://ftp.freedesktop.org/pub/mesa/${VERSION//-rc?/}/$SOURCE
SOURCE_DIRECTORY="${BUILD_DIRECTORY}/Mesa-${VERSION}"
fi
      PATCHLEVEL=1
      LICENSE[0]=GPL
        WEB_SITE=http://www.mesa3d.org/
        KEYWORDS="graphics libs"
         ENTERED=20021120
           SHORT="Mesa implementation of the OpenGL(TM) API"
cat << EOF
Mesa is a 3-D graphics library with an API which is very similar to
that of OpenGL.* To the extent that Mesa utilizes the OpenGL command
syntax or state machine, it is being used with authorization from
Silicon Graphics, Inc.(SGI). However, the author does not possess an
OpenGL license from SGI, and makes no claim that Mesa is in any way a
compatible replacement for OpenGL or associated with SGI. Those who
want a licensed implementation of OpenGL should contact a licensed
vendor.
EOF
