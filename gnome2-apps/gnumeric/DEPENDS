. "$GRIMOIRE/FUNCTIONS" &&

depends  libole2-2    &&
depends  libgsf       &&

depends goffice &&

if spell_ok goffice && is_version_less $(installed_version goffice) 0.8.11; then
  force_depends goffice
fi &&

depends  libxml2      &&
depends  cairo &&
depends  -sub SVG cairo &&

optional_depends  gtk+2                                \
                  "--with-gtk"                         \
                  "--without-gtk"                      \
                  "Build UI?"                          &&

optional_depends  libgnomeui                           \
                  "--with-gnome"                       \
                  "--without-gnome"                    \
                  "Build GNOME extensions?"            &&

if is_depends_enabled $SPELL libgnomeui; then
  depends -sub GNOME libgsf
fi &&

optional_depends  perl                                 \
                  "--with-perl"                        \
                  "--without-perl"                     \
                  "Compile the Perl plugin loader?"    &&

if is_depends_enabled $SPELL perl; then
  depends xml-parser-expat
fi &&

optional_depends  psiconv                              \
                  "--with-psiconv"                     \
                  "--without-psiconv"                  \
                  "Compile with psiconv?"              &&

optional_depends  libgnomedb3                          \
                  "--with-gda"                         \
                  "--without-gda"                      \
                  "for database support"               &&

optional_depends  rarian                               \
                  ""                                   \
                  ""                                   \
                  "register with rarian"               &&

optional_depends  python                               \
                  "--with-python"                      \
                  "--without-python"                   \
                  "Compile the Python plugin loader?"
