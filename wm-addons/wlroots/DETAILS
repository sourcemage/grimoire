# Watch: https://gitlab.freedesktop.org/wlroots/wlroots/-/tags
. "${GRIMOIRE}/FUNCTIONS"
. "${GRIMOIRE}/MESON_FUNCTIONS"
           SPELL="wlroots"
case "${WLROOTS_BRANCH}" in
scm)
         VERSION="$(get_scm_version)"
          SOURCE="${SPELL}-git.tar.xz"
    SOURCE_URL[0]="git_http://gitlab.freedesktop.org/${SPELL}/${SPELL}.git:${SPELL}-git"
 SOURCE_DIRECTORY="${BUILD_DIRECTORY}/${SPELL}-git"
    SOURCE_IGNORE="volatile"
   FORCE_DOWNLOAD=on
;;
hyprland)
    WLROOTS_COMMIT=5de9e1a99d6642c2d09d589aa37ff0a8945dcee1
    SOURCE_HASH=sha512:043f20e4edf9856fd24772d899ac2a93a76da29a8c55a83c9b283750a31f05560aa0a66ef09560875c38aa0c9a8d86cda41e6b2b6e54a3d212c63e84b0304ca7
         VERSION="${WLROOTS_COMMIT}"
          SOURCE="${SPELL}-${VERSION}.tar.gz"
  SOURCE_URL[0]="https://gitlab.freedesktop.org/${SPELL}/${SPELL}/-/archive/${WLROOTS_COMMIT}/${SOURCE}.tar.gz"
SOURCE_DIRECTORY="${BUILD_DIRECTORY}/${SPELL}-${VERSION}"
;;
sway)
    WLROOTS_COMMIT="0a32b5a74db06a27bee55a47205951bb277a9657"
    SOURCE_HASH="sha512:96334c53b522caa68dea61f6fdf12148182ccd08eca506253396717872248052ae6d958368d5f73692816eb754c749b6bbc6280763be3a86f5775bcadb3e26d2"
         VERSION="${WLROOTS_COMMIT}"
          SOURCE="${SPELL}-${VERSION}.tar.gz"
  SOURCE_URL[0]="https://gitlab.freedesktop.org/${SPELL}/${SPELL}/-/archive/${WLROOTS_COMMIT}/${SOURCE}.tar.gz"
SOURCE_DIRECTORY="${BUILD_DIRECTORY}/${SPELL}-${VERSION}"
;;
*)
         VERSION=0.17.0
          SOURCE="${SPELL}-${VERSION}.tar.gz"
SOURCE_DIRECTORY="${BUILD_DIRECTORY}/${SPELL}-${VERSION}"
   SOURCE_URL[0]="https://gitlab.freedesktop.org/wlroots/wlroots/-/releases/${VERSION}/downloads/$SOURCE"
         SOURCE2=$SOURCE.sig
  SOURCE2_URL[0]=${SOURCE_URL[0]}.sig
      SOURCE_GPG=sway.gpg:$SOURCE.sig:UPSTREAM_KEY
  SOURCE2_IGNORE=signature
;;
esac
      LICENSE[0]="MIT"
        WEB_SITE="https://swaywm.org"
         ENTERED="20181223"
           SHORT="a modular Wayland compositor"
cat << EOF
Pluggable, composable, unopinionated modules for building a Wayland compositor;
or about 50,000 lines of code you were going to write anyway.

  * wlroots provides backends that abstract the underlying display and input
hardware, including KMS/DRM, libinput, Wayland, X11, and headless backends,
plus any custom backends you choose to write, which can all be created or
destroyed at runtime and used in concert with each other.
  * wlroots provides unopinionated, mostly standalone implementations of many
Wayland interfaces, both from wayland.xml and various protocol extensions.
We also promote the standardization of portable extensions across many
compositors.
  * wlroots provides several powerful, standalone, and optional tools that
implement components common to many compositors, such as the arrangement of
outputs in physical space.
  * wlroots provides an Xwayland abstraction that allows you to have excellent
Xwayland support without worrying about writing your own X11 window manager on
top of writing your compositor.
  * wlroots provides a renderer abstraction that simple compositors can use to
avoid writing GL code directly, but which steps out of the way when your needs
demand custom rendering code.
EOF
  /var/spool/sorcery/wlroots-0a32b5a74db06a27bee55a47205951bb277a9657.tar.gz
