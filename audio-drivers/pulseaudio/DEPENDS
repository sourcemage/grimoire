depends liboil                                    &&
depends libsndfile                                &&
depends libatomic_ops                             &&
depends speex                                     &&

if [[ "$PULSE_DB" == 'gdbm' ]]; then
   depends gdbm
elif [[ "$PULSE_DB" == 'tdb' ]]; then
   depends tdb
else
   message "using configuration database $PULSE_DB"
fi &&

optional_depends gettext                        \
                 "--enable-nls"                 \
                 "--disable-nls"                \
                 "for Native Language Support"  &&
optional_depends xorg-libs                        \
                 "--enable-x11"                   \
                 "--disable-x11"                  \
                 "Enable X11 support?"            &&
depends libsamplerate                             &&
optional_depends alsa-lib                         \
                 "--enable-alsa"                  \
                 "--disable-alsa"                 \
                 "Enable Advanced Linux Sound Architecture support? (RECOMMENDED)"  &&
optional_depends glib2                            \
                 "--enable-glib2"                 \
                 "--disable-glib2"                \
                 "Enable glib2 support?"          &&
optional_depends gtk+2 \
                 "--enable-gtk2" \
                 "--disable-gtk2" \
                 "for GTK+2 support" &&
optional_depends gconf2 \
                 "--enable-gconf" \
                 "--disable-gconf" \
                 "for gconf support" &&
optional_depends avahi                                \
                 "--enable-avahi"                     \
                 "--disable-avahi"                    \
                 "for ZerConf configuration support"  &&
optional_depends JACK-DRIVER                      \
                 "--enable-jack"                  \
                 "--disable-jack"                 \
                 "for low-latency sound server support?"  &&
optional_depends libasyncns                       \
                 "--enable-asyncns"               \
                 "--disable-asyncns"              \
                 "for asynchronous service queries?"  &&
optional_depends tcp_wrappers                     \
                 "--enable-tcpwrap"               \
                 "--disable-tcpwrap"              \
                 "Enable TCP network filtering?"  &&
optional_depends lirc                             \
                 "--enable-lirc"                  \
                 "--disable-lirc"                 \
                 "Enable infra-red remote control support?"  &&
optional_depends hal                              \
                 "--enable-hal"                   \
                 "--disable-hal"                  \
                 "Enable Hardware Abstraction Layer support?"  &&
optional_depends -sub HWDB udev                \
                 "--enable-udev"               \
                 "--disable-udev"              \
                 "for device hotplug support"  &&
optional_depends bluez \
                 "--enable-bluez" \
                 "--disable-bluez" \
                 "for BlueZ support" &&
optional_depends dbus                          \
                 "--enable-dbus"               \
                 "--disable-dbus"              \
                 "for D-BUS system messaging"  &&
optional_depends openssl \
                 "--enable-openssl" \
                 "--disable-openssl" \
                 "for SSL support (Airtunes/RAOP)" &&
optional_depends doxygen \
                 "--enable-manpages" \
                 "--disable-manpages" \
                 "for manpage generation" &&
optional_depends libcap                           \
                 "--with-caps"                    \
                 "--without-caps"                 \
                 "Enable POSIX capability support?"          &&

if is_depends_enabled $SPELL xorg-libs; then
  depends libxtst
fi &&

#optional_depends policykit                        \
#                 "--enable-polkit"                \
#                 "--disable-polkit"               \
#                 "for PolicyKit authentication support"  &&

suggest_depends  padevchooser  ''  ''  'for Preferences tool'     &&
suggest_depends  paprefs       ''  ''  'for Preferences tool'     &&
suggest_depends  pavucontrol   ''  ''  'for Volume Control tool'  &&
suggest_depends  pavumeter     ''  ''  'for Volume Meter tool'    &&
suggest_depends  paman         ''  ''  'for Manager tool'
