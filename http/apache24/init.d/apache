#!/bin/bash

PROGRAM=/bin/false
RUNLEVEL=3
NEEDS="+network +remote_fs"
PIDFILE=/var/run/httpd.pid

. /etc/init.d/smgl_init

start()
{
  echo "Starting Apache web server..."
  /usr/sbin/apachectl start
  evaluate_retval
}

restart()
{
  echo "Restarting Apache web server..."
  if [ -f $PIDFILE ]; then
    /usr/sbin/apachectl restart
    evaluate_retval
  else
    run_func start
  fi
}

stop()
{
  echo "Stopping Apache web server..."
  /usr/sbin/apachectl stop
  evaluate_retval
}

status()
{
  getpids httpd
  if [ -n "$pidlist" ]; then
    echo "Apache is running with Process ID(s) $pidlist"
  else
    if [ -f $PIDFILE ]; then
      echo "Apache is not running but $PIDFILE exists"
      return 1
    else
      echo "Apache is not running"
    fi
  fi
}

reload()
{
  echo "Gracefully reloading Apache web server..."
  /usr/sbin/apachectl graceful
  evaluate_retval
}
